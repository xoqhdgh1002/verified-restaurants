# ğŸ“Š ë°ì´í„° ì„í¬íŠ¸ ì™„ë£Œ ìš”ì•½

## âœ… ì™„ë£Œ ì‚¬í•­

### 1. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì—…ë°ì´íŠ¸

ê¸°ì¡´ `restaurants` í…Œì´ë¸”ì— í¬ë¡¤ë§ ë°ì´í„° í•„ë“œ ì¶”ê°€:

#### ìƒˆë¡œ ì¶”ê°€ëœ ì»¬ëŸ¼ë“¤:
- `external_id` - OpenStreetMap node ID (UNIQUE ì œì•½ì¡°ê±´)
- `road_address` - ë„ë¡œëª… ì£¼ì†Œ
- `original_category` - í¬ë¡¤ë§ ì›ë³¸ ì¹´í…Œê³ ë¦¬
- `latitude` - ìœ„ë„ (DECIMAL 10,7)
- `longitude` - ê²½ë„ (DECIMAL 10,7)
- `distance` - ê¸°ì¤€ì  ê±°ë¦¬ (ë¯¸í„°)
- `place_url` - OpenStreetMap ë§í¬
- `cuisine` - ìš”ë¦¬ ì¢…ë¥˜
- `opening_hours` - ì˜ì—… ì‹œê°„

#### ìƒˆë¡œ ì¶”ê°€ëœ ì¸ë±ìŠ¤:
- `idx_restaurants_location` - ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ ìµœì í™”
- `idx_restaurants_external_id` - ì¤‘ë³µ ë°©ì§€ ë° ë¹ ë¥¸ ì¡°íšŒ

### 2. ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ìƒì„±

#### `scripts/import-restaurants.js`
- JSON ë°ì´í„°ë¥¼ SQL INSERT ë¬¸ìœ¼ë¡œ ìë™ ë³€í™˜
- SQL ì¸ì ì…˜ ë°©ì§€ (ë¬¸ìì—´ ì´ìŠ¤ì¼€ì´í”„)
- NULL ê°’ ì²˜ë¦¬
- 792ê°œ ì‹ë‹¹ â†’ 343KB SQL íŒŒì¼ ìƒì„±

#### `scripts/validate-data.js`
- ë°ì´í„° í’ˆì§ˆ ê²€ì¦
- í•„ë“œë³„ ì»¤ë²„ë¦¬ì§€ í†µê³„
- ì¹´í…Œê³ ë¦¬/ìš”ë¦¬ ì¢…ë¥˜ ë¶„í¬
- ë¬¸ì œ ë ˆì½”ë“œ ì‹ë³„

### 3. ìƒì„±ëœ íŒŒì¼ë“¤

```
verified-restaurants/
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ schema.sql                              # ì „ì²´ ìŠ¤í‚¤ë§ˆ (ì—…ë°ì´íŠ¸ë¨)
â”‚   â”œâ”€â”€ seed-restaurants.sql                    # 792ê°œ ì‹ë‹¹ SQL (343KB)
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â””â”€â”€ 001_add_crawled_data_fields.sql    # ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼
â”‚   â””â”€â”€ README.md                               # ìƒì„¸ ë¬¸ì„œ
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ import-restaurants.js                   # JSON â†’ SQL ë³€í™˜
â”‚   â””â”€â”€ validate-data.js                        # ë°ì´í„° ê²€ì¦
â”œâ”€â”€ IMPORT_GUIDE.md                             # ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ
â””â”€â”€ DATA_IMPORT_SUMMARY.md                      # ì´ íŒŒì¼
```

## ğŸ“Š ë°ì´í„° í†µê³„

### ê¸°ë³¸ ì •ë³´
- **ì´ ì‹ë‹¹ ìˆ˜**: 792ê°œ
- **ë°ì´í„° ì†ŒìŠ¤**: OpenStreetMap (ëŒ€êµ¬ ì§€ì—­)
- **SQL íŒŒì¼ í¬ê¸°**: 343.24 KB

### í•„ë“œ ì»¤ë²„ë¦¬ì§€

| í•„ë“œ | ê°œìˆ˜ | ë¹„ìœ¨ | ìƒíƒœ |
|------|------|------|------|
| ìœ„ë„/ê²½ë„ | 792 | 100.0% | âœ… ì™„ë²½ |
| ìš”ë¦¬ ì¢…ë¥˜ | 792 | 100.0% | âœ… ì™„ë²½ |
| Place URL | 792 | 100.0% | âœ… ì™„ë²½ |
| ì£¼ì†Œ | 230 | 29.0% | âš ï¸ ë³´í†µ |
| ë„ë¡œëª… ì£¼ì†Œ | 227 | 28.7% | âš ï¸ ë³´í†µ |
| ì „í™”ë²ˆí˜¸ | 60 | 7.6% | âŒ ë‚®ìŒ |
| ì˜ì—… ì‹œê°„ | 39 | 4.9% | âŒ ë‚®ìŒ |

### ì¹´í…Œê³ ë¦¬ ë¶„í¬ (ìƒìœ„ 10ê°œ)

| ìˆœìœ„ | ì¹´í…Œê³ ë¦¬ | ê°œìˆ˜ | ë¹„ìœ¨ |
|------|----------|------|------|
| 1 | ì‹ë‹¹ | 366 | 46.2% |
| 2 | ì¹´í˜ | 191 | 24.1% |
| 3 | í•œì‹ | 93 | 11.7% |
| 4 | í–„ë²„ê±° | 27 | 3.4% |
| 5 | íŒ¨ìŠ¤íŠ¸í‘¸ë“œ | 27 | 3.4% |
| 6 | ì¹˜í‚¨ | 25 | 3.2% |
| 7 | ì¤‘ì‹ | 18 | 2.3% |
| 8 | ì¼ì‹ | 15 | 1.9% |
| 9 | í”¼ì | 10 | 1.3% |
| 10 | ì´ˆë°¥/ì¼ì‹ | 9 | 1.1% |

### ìš”ë¦¬ ì¢…ë¥˜ ë¶„í¬ (ìƒìœ„ 10ê°œ)

| ìˆœìœ„ | Cuisine | ê°œìˆ˜ | ë¹„ìœ¨ |
|------|---------|------|------|
| 1 | restaurant | 269 | 34.0% |
| 2 | cafe | 101 | 12.8% |
| 3 | korean | 93 | 11.7% |
| 4 | coffee_shop | 76 | 9.6% |
| 5 | burger | 27 | 3.4% |
| 6 | chicken | 25 | 3.2% |
| 7 | chinese | 18 | 2.3% |
| 8 | asian | 16 | 2.0% |
| 9 | japanese | 15 | 1.9% |
| 10 | fast_food | 11 | 1.4% |

### ë°ì´í„° í’ˆì§ˆ ì ìˆ˜

- **ì „ì²´ ì ìˆ˜**: 60.0/100
- **ë“±ê¸‰**: D
- **ì£¼ìš” ì´ìŠˆ**: ì£¼ì†Œ ì •ë³´ ëˆ„ë½ (562ê°œ, 70.9%)

## ğŸš€ ì‚¬ìš© ë°©ë²•

### ë¹ ë¥¸ ì‹œì‘ (3ë‹¨ê³„)

```bash
# 1. JSON â†’ SQL ë³€í™˜
cd ~/verified-restaurants
node scripts/import-restaurants.js

# 2. ë°ì´í„° ê²€ì¦ (ì„ íƒì‚¬í•­)
node scripts/validate-data.js

# 3. Supabase SQL Editorì—ì„œ ì‹¤í–‰
# - schema.sql (ì²˜ìŒ í•œ ë²ˆë§Œ)
# - seed-restaurants.sql (ë°ì´í„° ì„í¬íŠ¸)
```

### ì£¼ìš” SQL ì¿¼ë¦¬

#### 1. ì „ì²´ ì‹ë‹¹ ì¡°íšŒ (ê²€ì¦ ëŒ€ê¸° ì¤‘)
```sql
SELECT name, address, cuisine, opening_hours
FROM restaurants
WHERE verification_status = 'pending'
ORDER BY name;
```

#### 2. ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ (ê²½ë¶ëŒ€ ê·¼ì²˜ 1km)
```sql
SELECT
  name,
  address,
  cuisine,
  SQRT(
    POW(69.1 * (latitude - 35.8889), 2) +
    POW(69.1 * (128.6094 - longitude) * COS(latitude / 57.3), 2)
  ) * 1.609344 AS distance_km
FROM restaurants
WHERE latitude IS NOT NULL
HAVING distance_km < 1
ORDER BY distance_km;
```

#### 3. ì¹´í…Œê³ ë¦¬ë³„ í†µê³„
```sql
SELECT
  original_category,
  COUNT(*) as count,
  ROUND(COUNT(*) * 100.0 / SUM(COUNT(*)) OVER(), 2) as percentage
FROM restaurants
GROUP BY original_category
ORDER BY count DESC;
```

## âš ï¸ ì•Œë ¤ì§„ ì´ìŠˆ

### 1. ì£¼ì†Œ ì •ë³´ ëˆ„ë½ (562ê°œ)
- **ì›ì¸**: OpenStreetMap ë°ì´í„°ì— ì£¼ì†Œ ë¯¸í¬í•¨
- **ì˜í–¥**: ì „ì²´ ê²€ìƒ‰ì€ ê°€ëŠ¥í•˜ë‚˜ ì£¼ì†Œ í‘œì‹œ ë¶ˆê°€
- **í•´ê²°**: ë„ë¡œëª… ì£¼ì†Œ ë˜ëŠ” ì¢Œí‘œ í™œìš©, í–¥í›„ ìˆ˜ë™ ë³´ì™„

### 2. ì „í™”ë²ˆí˜¸ ë¶€ì¡± (7.6%)
- **ì›ì¸**: OSM ë°ì´í„°ì— ì „í™”ë²ˆí˜¸ ì •ë³´ ë¶€ì¡±
- **ì˜í–¥**: ì§ì ‘ ì—°ë½ ì–´ë ¤ì›€
- **í•´ê²°**: ê²€ì¦ ê³¼ì •ì—ì„œ ìˆ˜ë™ìœ¼ë¡œ ì¶”ê°€

### 3. ì˜ì—… ì‹œê°„ ë¶€ì¡± (4.9%)
- **ì›ì¸**: OSM ë°ì´í„° ì œí•œ
- **ì˜í–¥**: ì˜ì—… ì¤‘ ì—¬ë¶€ íŒë‹¨ ë¶ˆê°€
- **í•´ê²°**: ê²€ì¦ ê³¼ì •ì—ì„œ ì¶”ê°€ ë˜ëŠ” ì™¸ë¶€ API í™œìš©

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

### ì¦‰ì‹œ ê°€ëŠ¥í•œ ì‘ì—…
1. âœ… Supabaseì— ë°ì´í„° ì„í¬íŠ¸
2. âœ… ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ êµ¬í˜„
3. âœ… ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§
4. â³ ì˜ì—… ì‹œê°„ ì •ë³´ ë³´ì™„ (ìˆ˜ë™ ë˜ëŠ” ì™¸ë¶€ API)

### ì¶”ê°€ ê°œì„  ì‚¬í•­
1. **ì£¼ì†Œ ì •ë³´ ë³´ì™„**
   - Kakao Local API ë˜ëŠ” Naver Map API í™œìš©
   - ì¢Œí‘œ â†’ ì£¼ì†Œ ì—­ì§€ì˜¤ì½”ë”©

2. **ë°ì´í„° í’ë¶€í™”**
   - ì „í™”ë²ˆí˜¸ ì¶”ê°€ (í¬ë¡¤ë§ ë˜ëŠ” ìˆ˜ë™)
   - ì˜ì—… ì‹œê°„ ì •ë³´ ì¶”ê°€
   - ì‹ë‹¹ ì´ë¯¸ì§€ ìˆ˜ì§‘

3. **ê²€ì¦ ì‹œìŠ¤í…œ**
   - ì‚¬ìš©ì ê²€ì¦ ìš”ì²­ ê¸°ëŠ¥
   - ê´€ë¦¬ì ê²€ì¦ ì¸í„°í˜ì´ìŠ¤
   - ê±´ê°• ì¹´í…Œê³ ë¦¬ íƒœê¹… (vegan, low-sodium ë“±)

4. **ê³ ê¸‰ ê¸°ëŠ¥**
   - ì‹¤ì‹œê°„ ìœ„ì¹˜ ê¸°ë°˜ ì¶”ì²œ
   - ì˜ì—… ì¤‘ ì—¬ë¶€ í‘œì‹œ
   - ì‚¬ìš©ì ë¦¬ë·° ì‹œìŠ¤í…œ

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- [IMPORT_GUIDE.md](./IMPORT_GUIDE.md) - ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ
- [supabase/README.md](./supabase/README.md) - ìƒì„¸ ë°ì´í„°ë² ì´ìŠ¤ ë¬¸ì„œ
- [supabase/schema.sql](./supabase/schema.sql) - ì „ì²´ ìŠ¤í‚¤ë§ˆ ì •ì˜

## âœ¨ ì™„ì„±ë„ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë° ë§ˆì´ê·¸ë ˆì´ì…˜
- [x] JSON â†’ SQL ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸
- [x] ë°ì´í„° ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
- [x] SQL íŒŒì¼ ìƒì„± (792ê°œ ì‹ë‹¹)
- [x] ì¸ë±ìŠ¤ ìµœì í™” (ìœ„ì¹˜, external_id)
- [x] ë¬¸ì„œí™” (README, ê°€ì´ë“œ)
- [ ] Supabase ì‹¤ì œ ì„í¬íŠ¸ (ì‚¬ìš©ì ì•¡ì…˜ í•„ìš”)
- [ ] ì£¼ì†Œ ì •ë³´ ë³´ì™„ (ì„ íƒì‚¬í•­)
- [ ] í”„ë¡ íŠ¸ì—”ë“œ í†µí•© (ì¶”í›„)

## ğŸ‰ ê²°ë¡ 

í¬ë¡¤ë§ëœ 792ê°œì˜ ì‹ë‹¹ ë°ì´í„°ë¥¼ Supabase ë°ì´í„°ë² ì´ìŠ¤ì— ì„í¬íŠ¸í•  ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!

**í•µì‹¬ ì„±ê³¼:**
- âœ… ì™„ì „í•œ ìœ„ì¹˜ ë°ì´í„° (100% ìœ„ë„/ê²½ë„)
- âœ… ëª¨ë“  ì‹ë‹¹ì— ìš”ë¦¬ ì¢…ë¥˜ ì •ë³´
- âœ… ìë™í™”ëœ ì„í¬íŠ¸ íŒŒì´í”„ë¼ì¸
- âœ… ë°ì´í„° í’ˆì§ˆ ê²€ì¦ ë„êµ¬
- âœ… í™•ì¥ ê°€ëŠ¥í•œ ìŠ¤í‚¤ë§ˆ ì„¤ê³„

**ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥:**
- ìœ„ì¹˜ ê¸°ë°˜ ì‹ë‹¹ ê²€ìƒ‰
- ì¹´í…Œê³ ë¦¬/ìš”ë¦¬ ì¢…ë¥˜ë³„ í•„í„°ë§
- ê²€ì¦ ìš”ì²­ ì‹œìŠ¤í…œ êµ¬ì¶• ì¤€ë¹„ ì™„ë£Œ

---

**ë¬¸ì˜ì‚¬í•­ì´ë‚˜ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ê° ë¬¸ì„œì˜ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì„¹ì…˜ì„ ì°¸ì¡°í•˜ì„¸ìš”!** ğŸš€
